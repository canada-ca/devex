<section class="bg-secondary" role=" main">
  <form id="programForm" warn-on-exit name="vm.form.programForm" class="form" ng-submit="vm.save(vm.form.programForm.$valid)"
    novalidate>
    <div class="bg-light rounded p-0">

<section class="static-page">
<div class="container" role="main">
  <!-- <div ncy-breadcrumb></div> -->
  <form id="programForm" warn-on-exit name="vm.form.programForm" class="form" ng-submit="vm.save(vm.form.programForm.$valid)" novalidate>
	<div class="row form-head">
	<div class="col-sm-7">
		<h2 ng-if="vm.editing && isEnglish()">Editing: {{::vm.program.title}}</h2>
		<h2 ng-if="vm.editing && isFrench()">Editing: {{::vm.program.title_fr}}</h2>
		<h2 ng-if="!vm.editing" translate="TEAM_NEW">New Team</h2>
	</div>
	<div class="col-sm-5 col-form-buttons text-right">
	<div class="btn-group">
	  	<a class="btn btn-primary" ng-click="vm.saveme(vm.form.programForm.$valid)" title="{{ 'SAVE' | translate }}">
			<i class="glyphicon glyphicon-save"></i> <span translate="SAVE">Save</span></a>
		<a class="btn btn-default" href="{{vm.previousState.url}}" title="{{ 'CANCEL' | translate }}">
			<i class="glyphicon glyphicon-fast-backward"></i> <span translate="CANCEL">Cancel</span></a>
		<a ng-if="vm.editing" class="btn btn-default" ng-click="vm.remove()" title="{{ 'REMOVE' | translate }}">
			<i class="glyphicon glyphicon-trash"></i> <span translate="REMOVE">Remove</span></a>
	</div>
	</div>
	</div>
	<div class="row">
	<div class="col-sm-12">
			<fieldset>
				<div class="form-group" show-errors>
					<label class="control-label required" for="title" aria-required="true"><span translate="OPP_SHORT_TITLE_LABEL">Title</span> ({{ "ENGLISH" | translate }})</label>

      <div class="row m-4">
        <div class="col">
          <fieldset>
            <div class="form-group">
              <label class="control-label" for="title">Title</label>

					<input name="title" type="text" ng-model="vm.program.title" id="title" class="form-control" placeholder="{{ 'OPP_SHORT_TITLE_LABEL' | translate }}" required aria-required="true">
					<div ng-messages="vm.form.programForm.title.$error" role="alert"></div>
				</div>
				<div class="form-group" show-errors>
					<label class="control-label required" for="title_fr" aria-required="true"><span translate="OPP_SHORT_TITLE_LABEL">Title</span> ({{ "FRENCH" | translate }})</label>

					<i class="glyphicon glyphicon-question-sign input-help-source" ng-click="stitle_fr = !stitle_fr"></i>
					<div class="input-help alert alert-info" ng-show="stitle_fr">
						Help Text
					</div>

					<input name="title_fr" type="text" ng-model="vm.program.title_fr" id="title_fr" class="form-control" placeholder="{{ 'OPP_SHORT_TITLE_LABEL' | translate }}" required aria-required="true">
					<div ng-messages="vm.form.programForm.title_fr.$error" role="alert"></div>
				</div>
				<div class="form-group" show-errors>
					<label class="control-label required" for="department" aria-required="true"><span translate="TEAM_DEPARTMENT">Department</span></label>

					<i class="glyphicon glyphicon-question-sign input-help-source" ng-click="sdepartment = !sdepartment"></i>
					<div class="input-help alert alert-info" ng-show="sdepartment">
						Help Text
					</div>

					<select name="department" ng-model="vm.program.department" id="department" class="form-control" required aria-required="true" ng-options="v as v | translate for v in vm.departments | orderBy: 'toString() | translate'">
						<option value="" translate="Empty_Department">Please make a selection</option>
					</select>
					<div ng-messages="vm.form.programForm.department.$error" role="alert"></div>
				</div>
				<div class="form-group" show-errors>
					<label class="control-label required" for="short" aria-required="true"><span translate="TEAM_SHORT_DESCRIPTION">Short Description</span> ({{ "ENGLISH" | translate }})</label>

              <input data-automation-id="text-program-title" name="title" type="text" ng-model="vm.program.title" id="title"
                class="form-control" placeholder="Title" required>
              <div ng-messages="vm.form.programForm.title.$error" role="alert">
                <p class="help-block error-text" ng-message="required">A program title is required.</p>
              </div>
            </div>
            <div class="form-group">
              <label class="control-label" for="short">Short Description</label>

					<textarea name="short" data-ng-model="vm.program.short" id="short" class="form-control" cols="30" rows="3" placeholder="{{ 'TEAM_SHORT_DESCRIPTION_PLACEHOLDER' | translate }}" required aria-required="true"></textarea>
				</div>
				<div class="form-group" show-errors>
					<label class="control-label required" for="short_fr" aria-required="true"><span translate="TEAM_SHORT_DESCRIPTION">Short Description</span> ({{ "FRENCH" | translate }})</label>

					<i class="glyphicon glyphicon-question-sign input-help-source" ng-click="ssdesc_fr = !ssdesc_fr"></i>
					<div class="input-help alert alert-info" ng-show="ssdesc_fr">
						Help Text
					</div>

					<textarea name="short_fr" data-ng-model="vm.program.short_fr" id="short_fr" class="form-control" cols="30" rows="3" placeholder="{{ 'TEAM_SHORT_DESCRIPTION_PLACEHOLDER' | translate }}" required aria-required="true"></textarea>
				</div>
				<div class="form-group">
					<label class="control-label" for="description">Description ({{ "ENGLISH" | translate }})</label>

              <textarea data-automation-id="text-program-short-description" name="short" data-ng-model="vm.program.short"
                id="short" class="form-control" cols="30" rows="3" placeholder="A short description of your program's mandate or mission"
                required></textarea>
            </div>
            <div class="form-group">
              <label class="control-label" for="description">Description</label>

					<!-- <textarea name="description" data-ng-model="vm.program.description" id="description" class="form-control" cols="30" rows="10" placeholder="A full description of the program"></textarea> -->
					<textarea
						name="description"
						id="description"
						class="form-control input-sm"
						ui-tinymce="vm.tinymceOptions"
						placeholder="A full description of the team"
						ng-model="vm.program.description">
					</textarea>
				</div>
				<div class="form-group">
					<label class="control-label" for="description_fr">Description ({{ "FRENCH" | translate }})</label>

					<i class="glyphicon glyphicon-question-sign input-help-source" ng-click="sdesc_fr = !sdesc_fr"></i>
					<div class="input-help alert alert-info" ng-show="sdesc_fr">
						Help Text
					</div>

					<!-- <textarea name="description" data-ng-model="vm.program.description" id="description" class="form-control" cols="30" rows="10" placeholder="A full description of the program"></textarea> -->
					<textarea
						name="description_fr"
						id="description_fr"
						class="form-control input-sm"
						ui-tinymce="vm.tinymceOptions"
						placeholder="A full description of the team"
						ng-model="vm.program.description_fr">
					</textarea>
				</div>
<!--
				<div class="form-group">
					<label class="control-label" for="owner">Owner</label>
					<input name="owner" type="text" ng-model="vm.program.owner" id="owner" class="form-control" placeholder="Program owner (ministry, organization, etc)" required>
				</div>
				<div class="form-group">
					<label class="control-label" for="taglist">Tags (comma delimited list)</label>
					<input type="text" name="taglist" ng-model="vm.program.taglist" id="taglist" class="form-control" placeholder="Tag List"></input>
				</div>
-->
				<div class="form-group">
					<label class="control-label" for="website" translate="TEAM_WEBSITE">Website</label>

              <textarea name="description" id="description" data-automation-id="text-program-description" class="form-control input-sm"
                ui-tinymce="vm.tinymceOptions" placeholder="A fuller description..." ng-model="vm.program.description">
								</textarea>
            </div>

					<input name="website" type="text" ng-model="vm.program.website" id="website" class="form-control" placeholder="{{ 'TEAM_WEBSITE' | translate }}" required>
				</div>
				<div class="form-group">
					<label class="control-label" for="logo" translate="TEAM_LOGO">Team Logo</label>

					<i class="glyphicon glyphicon-question-sign input-help-source" ng-click="slogo = !slogo"></i>
					<div class="input-help alert alert-info" ng-show="slogo">
						Help Text
					</div>

				</div>
				<div class="form-group">
					<fieldset>
						<div ng-show="vm.fileSelected" class="text-center form-group">
							<p>Crop your picture then press save</p>
							<div ngf-drop ng-model="vm.picFile" ngf-pattern="image/*" class="text-center cropArea">
								<img-crop image="vm.picFile | ngfDataUrl" result-image="vm.croppedDataUrl" ng-init="vm.croppedDataUrl=''" area-type="square"></img-crop>
							</div>
						</div>
						<div class="form-group text-center">
							<img ng-src="{{vm.fileSelected ? vm.croppedDataUrl : '/' + vm.program.logo}}" alt="{{ 'TEAM_LOGO' | translate }}" class="img-thumbnail user-profile-picture" ngf-drop>
						</div>
						<div ng-show="!vm.fileSelected" class="text-center form-group">
							<button type="button" class="btn btn-default btn-file" ngf-select="vm.fileSelected = true" ng-model="vm.picFile" accept="image/*" translate="TEAM_PICTURE">Select Picture</button>
						</div>
						<div ng-show="0 && vm.fileSelected" class="text-center form-group">
							<button  type="button" class="btn btn-primary" ng-click="vm.upload(vm.croppedDataUrl, vm.picFile.name)">Upload</button>
							<button  type="button" class="btn btn-default" ng-click="vm.fileSelected = false" translate="CANCEL">Cancel</button>
						</div>
						<div ng-show="vm.fileSelected" class="progress text-center">
							<div class="progress-bar" role="progressbar" aria-valuenow="{{vm.progress}}" aria-valuemin="0" aria-valuemax="100" style="width:{{vm.progress}}%" ng-bind="vm.progress + '%'">
								<span class="sr-only">{{vm.progress}}% Complete</span>
							</div>
						</div>
					</fieldset>
				</div>
			</fieldset>
	</div>
	</div>
	<div class="row form-foot">
	<div class="col-sm-12 col-form-buttons text-right">
	<div class="btn-group">
	  <a class="btn btn-primary" ng-click="vm.saveme(vm.form.programForm.$valid)" title="{{ 'SAVE' | translate }}">
		<i class="glyphicon glyphicon-save"></i> <span translate="SAVE">Save</span>
	  </a>
	  <a ng-if="vm.editing && isEnglish()" class="btn btn-default"  id="programs.view" ui-sref="en.programs.view({programId:vm.program.code})" title="{{ 'CANCEL' | translate }}">
		<i class="glyphicon glyphicon-fast-backward"></i> <span translate="CANCEL">Cancel</span>
	  </a>
	  <a ng-if="vm.editing && isFrench()" class="btn btn-default"  id="programs.view" ui-sref="fr.programs.view({programId:vm.program.code})" title="{{ 'CANCEL' | translate }}">
		<i class="glyphicon glyphicon-fast-backward"></i> <span translate="CANCEL">Cancel</span>
	  </a>
	  <a ng-if="!vm.editing && isEnglish()" class="btn btn-default"  id="programs.list" ui-sref="en.programs.list" title="{{ 'CANCEL' | translate }}">
		<i class="glyphicon glyphicon-fast-backward"></i> <span translate="CANCEL">Cancel</span>
	  </a>
	  <a ng-if="!vm.editing && isFrench()" class="btn btn-default"  id="programs.list" ui-sref="fr.programs.list" title="{{ 'CANCEL' | translate }}">
		<i class="glyphicon glyphicon-fast-backward"></i> <span translate="CANCEL">Cancel</span>
	  </a>
	  <a ng-if="vm.editing" class="btn btn-default" ng-click="vm.remove()" title="{{ 'REMOVE' | translate }}">
		<i class="glyphicon glyphicon-trash"></i> <span translate="REMOVE">Remove</span>
	  </a>
	</div>
	</div>
	</div>
  </form>
</section>
