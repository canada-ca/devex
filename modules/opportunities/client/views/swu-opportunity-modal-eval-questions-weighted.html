<div class="row">
  <div class="col m-3">

    <h5>Rank Questionnaire Responses</h5>
    <br>
    <div class="row">
      <div class="col text-center">
        <p>For each question we have randomized the responses that teams submitted.</p>
        <h4>Grade the individual responses with a score between 1 (worst) and 5 (best) for all
          {{data.model.questions.length}} questions.</h4>
        <ul class="w-50 mx-auto p-0" uib-pagination items-per-page="1" total-items="data.questions.length" ng-model="data.currentPage"
          ng-change="pageChanged()"></ul>
      </div>
    </div>
    <div class="row">
      <div class="col">
        <div ng-repeat="question in data.questions" ng-if="data.currentPage===($index+1)">
          <div class="bg-primary text-white text-center">
            <strong>
              Question: <span ng-bind-html="question.question"></span>
            </strong>
          </div>
          <div class="row" ng-repeat="response in data.responses.get(question)">
            <div class="col-4 p-0">
              <ul class="question-input-list">
                <li class="question-input">
                  Score: <input class="scoreBox" name="input" type="text" pattern="[0-5]" required min="0"
                    max="5" ng-model="response.score" ng-change="validateScores()" onclick="this.select()" />
                </li>
              </ul>
            </div>
            <div class="col p-0">
              <div class="question-cell border" ng-click="data.model.selected = response" ng-class="{'selected': data.model.selected === response}">
                <ul class="question-list">
                  <li class="question-item" ng-bind-html="response.response">
                  </li>
                </ul>
              </div>
            </div>
          </div>

        </div>
      </div>
      <div class="col-4">
        <div class="question-viewer border p-2 h-100">
          <div ng-bind-html="data.model.selected.response"></div>
        </div>
      </div>
    </div>
    <div class="my-3 text-right">
      <button class="btn btn-default" data-ng-click="close()">Cancel</button>
      <button class="btn btn-success" ng-disabled="!data.scoresValid" data-ng-click="commit()"><i class="fas fa-lock"></i> Lock in all rankings</button>
      <button class="btn btn-primary" data-ng-click="save()">Save my work & Close</button>
    </div>

  </div>
</div>
